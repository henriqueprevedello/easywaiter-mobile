<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button menu="main-menu"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content color="light" *ngIf="categorias">
  <ion-fab vertical="top" horizontal="end" slot="fixed" *ngIf="quantidadeItens">
    <ion-fab-button (click)="abrirCarrinho()" #cart>
      <div class="cart-length">{{ quantidadeItens }}</div>
      <ion-icon name="basket" class="cart-icon"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <div class="container">
    <h3 class="ion-text-center">Produtos</h3>

    <div class="container-cardapio" *ngIf="categorias">

      <ion-list *ngFor="let categoria of categorias">

        <div *ngIf="categoria.produtos.length">

          <ion-list-header> {{ categoria.nome }}: </ion-list-header>

          <ion-card *ngFor="let produto of categoria.produtos" (click)="adicionarAoCarrinho(produto)">
           
             
                <ion-card-content>
                  <ion-row>

                    <ion-col size="3">
                        <img [src]="produto.imagem && produto.imagem.length > 57 ? produto.imagem : 'https://image.flaticon.com/icons/png/512/1046/1046874.png'" />
                    </ion-col>

                    <ion-col size="6">
                      <div style="padding: 5px 0;">
                        <ion-card-title class="ellipsify">{{ produto.nome }}</ion-card-title>
                        <ion-label>
                          <p class="descricao-produto">{{ produto.descricao }}</p>
                        </ion-label>
                      </div>
                    </ion-col>

                    <ion-col size="3" class="ion-text-right">
                      <ion-row>
                        <ion-col size="12" class="ion-text-right">
                          <ion-label color="primary">
                            <b class="ellipsify"> {{ produto.valor | currency: 'R$' }}</b>
                          </ion-label>
                        </ion-col>
                      </ion-row>

                      <ion-row>
                        <ion-col size="12" class="ion-text-right">
                          <span>
                            <ion-icon name="add" style="font-size: 22px;" color="primary"></ion-icon>
                          </span>
                        </ion-col>
                      </ion-row>

                    </ion-col>

                  </ion-row>
                </ion-card-content>

          
          </ion-card>

        </div>
      </ion-list>

    </div>

  </div>

</ion-content>
